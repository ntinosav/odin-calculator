<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Calculator</title>
</head>
<body>





<div id="calc">
    <div id="screen">Numbers</div>
    <div class="row">
        <div class="button">7</div>
        <div class="button">8</div>
        <div class="button">9</div>
        <div class="button">+</div>
    </div>
    <div class="row">
        <div class="button">4</div>
        <div class="button">5</div>
        <div class="button">6</div>
        <div class="button">-</div>
    </div>
    <div class="row">
        <div class="button">1</div>
        <div class="button">2</div>
        <div class="button">3</div>
        <div class="button">*</div>
    </div>
    <div class="row">
        <div class="button">0</div>
        <div class="button">.</div>
        <div class="button">=</div>
        <div class="button">/</div>
    </div>
    <div class="row">
        <div class="button" id="clear">Clear</div>
    </div>

</div>










    <script>
        let num1 = undefined;
        let temp1 = '';
        let num2 = undefined;
        let temp2 = '';
        let oper = undefined;

        const buttons = document.querySelectorAll(".button");

        function add(a,b){
            return a+b;
        }

        function subtract(a,b){
            return a-b;
        }

        function multiply(a,b){
            return a*b;
        }

        function divide(a,b){
            return a/b;
        }

        function operate(op, a, b){
            let res =0;
            if (op == '+'){
                res = add(a,b);
            }else if (op == '-'){
                res = subtract(a,b);
            }else if (op == '*'){
                res = multiply(a,b);
            }else if (op == '/'){
                res = divide(a,b);
            }
            return res;
        }

        // num1 = prompt('Enter number 1:');
        // num1 = parseInt(num1);
        // num2 = prompt('Enter number 2:');
        // num2 = parseInt(num2);
        // oper = prompt('Enter symbol :');

        let scr = document.getElementById("screen");
        // console.log(operate(oper,num1,num2));
        scr.textContent = operate(oper, num1, num2);

        buttons.forEach((btn) => {
            btn.addEventListener("click", () => {
                if (! isNaN(btn.textContent)){
                    if (num1 == undefined){
                        temp1 += btn.textContent;
                        scr.textContent = temp1;
                        console.log(temp1);
                    }else if (num2 == undefined){
                        temp2 += btn.textContent;
                        scr.textContent = temp2;
                        console.log(temp2);
                    }
                }
                else{
                    if (temp1 != ''){
                        num1 = parseInt(temp1);
                        temp1= '';
                    }else if (temp2 != ''){
                        num2 = parseInt(temp2);
                        temp2 = '';
                    }
                    if(btn.textContent == 'Clear'){
                        num1 = undefined;
                        temp1 = '';
                        num2 = undefined;
                        temp2 = '';
                        oper = undefined;
                        scr.textContent = 0;
                    }else if (oper == undefined){
                        oper = btn.textContent;
                        console.log("Operation :" + oper);
                
                    }else if(btn.textContent == '='){
                        res = operate(oper,num1,num2);
                        scr.textContent = res;
                        num1 = res ;
                        num2 = undefined;
                        temp2 = '';
                        oper = undefined;
                    }else{
                        res = operate(oper,num1,num2);
                        scr.textContent = res;
                        num1 = res ;
                        num2 = undefined;
                        temp2 = '';
                        oper = btn.textContent;
                    }
            }
        })});
        
    </script>
</body>
</html>